(this.webpackJsonpbattleship=this.webpackJsonpbattleship||[]).push([[0],{109:function(e,t,a){e.exports=a(153)},114:function(e,t,a){},140:function(e,t){},143:function(e,t,a){},146:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),i=a(26),l=a.n(i),o=(a(114),a(11)),s=a(12),c=a(33),u=a(15),m=a(14),h=a(94),d=a.n(h)()("https://battleship-server-a01.herokuapp.com?auth="+localStorage.getItem("auth")),p=a(160),f=a(158),g=a(95),E=a(169),y=(a(29),a(143),a(75)),v=a(10),k=a(7),b=a.n(k),w=a(165),x=a(96),S=a(168),C=a(161),B=a(166),T=a(36),I=a(100),P=a(102),O=a(99),j=a(103),D=a(49),R=a(60),M=a(159),A=["https://ih1.redbubble.net/image.1573052278.8041/st,small,507x507-pad,600x600,f8f8f8.u1.jpg","https://ih1.redbubble.net/image.1652945041.9401/st,small,507x507-pad,600x600,f8f8f8.jpg","https://i.pinimg.com/originals/7f/7c/1d/7f7c1dd0e47c39c330137a7258ae4bec.png","https://ih1.redbubble.net/image.1667529454.4344/st,small,507x507-pad,600x600,f8f8f8.jpg","https://ih1.redbubble.net/image.1652885213.4662/st,small,507x507-pad,600x600,f8f8f8.jpg","https://ih1.redbubble.net/image.1576587976.3410/st,small,507x507-pad,600x600,f8f8f8.u1.jpg","https://ih1.redbubble.net/image.1573068447.8364/st,small,507x507-pad,600x600,f8f8f8.u1.jpg","https://ih1.redbubble.net/image.1573043479.7857/st,small,507x507-pad,600x600,f8f8f8.u1.jpg"],L=A.slice(0,4),z=A.slice(4,8),N=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{class:"text-center"},r.a.createElement(f.a,null,L.map((function(t){return r.a.createElement(g.a,null,r.a.createElement(x.a,{variant:"light",onClick:function(){return e.props.currentPic(t)}},r.a.createElement(M.a,{style:{width:"80px",height:"80px"},src:t,thumbnail:!0})))}))),r.a.createElement(f.a,null,z.map((function(t){return r.a.createElement(g.a,null,r.a.createElement(x.a,{variant:"light",onClick:function(){return e.props.currentPic(t)}},r.a.createElement(M.a,{style:{width:"80px",height:"80px"},src:t,thumbnail:!0})))}))))}}]),a}(r.a.Component),F=(a(146),[{color:"Serenity & Rose quartz",code:"linear-gradient(0deg, #f7cac9 0%, #b3cee5 100%)"},{color:"Candy",code:"linear-gradient(43deg, #4158D0 0%, #C850C0 51%, #FFCC70 100%)"},{color:"Midnight",code:"linear-gradient(225deg, #FF3CAC 0%, #784BA0 50%, #2B86C5 100%)"},{color:"Nature",code:"linear-gradient(132deg, #F4D03F 0%, #16A085 100%)"}]),H=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).changeProfile=n.changeProfile.bind(Object(c.a)(n)),n.state={redirect:{lobby:!1,shop:!1,rank:!1,admin:!1},audio:[new Audio("/Pirates Of The Caribbean Theme Song.mp3"),new Audio("/Coffin Dance (Official Music Video HD).mp3"),new Audio("/Pink Panther Theme Song.mp3")],user:{name:"",profile:"",items:{missile:0,glasses:0}},isRefreshModal:!1,showDropDown:!1,showProfileSetting:!1,showProfileChoice:!1,showSongSetting:!1,showBackgroundSetting:!1},n}return Object(s.a)(a,[{key:"navigate",value:function(e){this.setState({redirect:{lobby:"lobby"===e,shop:"shop"===e,rank:"rank"===e,admin:"admin"===e}})}},{key:"handleDropDown",value:function(){if(!0===this.state.showProfileSetting||!0===this.state.showSongSetting||!0===this.state.showBackgroundSetting)return!1;d.emit("request user data",localStorage.getItem("auth")),this.setState({showDropDown:!this.state.showDropDown})}},{key:"showProfileSetting",value:function(){this.setState({showProfileSetting:!this.state.showProfileSetting})}},{key:"showBackgroundSetting",value:function(){this.setState({showBackgroundSetting:!this.state.showBackgroundSetting})}},{key:"changeBackground",value:function(e){document.body.style.backgroundImage=e}},{key:"showProfileChoice",value:function(){this.setState({showProfileChoice:!this.state.showProfileChoice})}},{key:"changeProfile",value:function(e){this.setState({isRefreshModal:!0});var t={auth:localStorage.getItem("auth"),url:e};d.emit("change profile",t),b.a.fire({title:"Loading",showConfirmButton:!1,allowOutsideClick:!1,willOpen:function(){b.a.showLoading()}}),this.showProfileChoice(),this.showProfileSetting()}},{key:"showSongSetting",value:function(){this.setState({showSongSetting:!this.state.showSongSetting})}},{key:"showBackgroundSetting",value:function(){this.setState({showBackgroundSetting:!this.state.showBackgroundSetting})}},{key:"changeBackground",value:function(e){document.body.style.backgroundImage=e}},{key:"controlSong",value:function(e){for(var t=this.state.audio,a=0;a<t.length;a++)t[a].pause(),t[a].currentTime=0,a===e&&(t[a].play(),t[a].loop=!0)}},{key:"logout",value:function(){localStorage.removeItem("isLogin"),localStorage.setItem("isLogin",!1),d.emit("offline",localStorage.getItem("auth")),localStorage.removeItem("auth"),b.a.fire({title:"Successfully logged out",icon:"success",showConfirmButton:!1,allowOutsideClick:!1,timer:1e3}).then((function(e){e.dismiss===b.a.DismissReason.timer&&(b.a.close(),window.location.reload(!1))}))}},{key:"componentDidMount",value:function(){var e=this;d.on("response user data",(function(t){e.setState({user:{name:t.user,profile:t.profile,items:{missile:t.items.missile,glasses:t.items.glasses}}}),!0===e.state.isRefreshModal&&(b.a.close(),e.showProfileSetting(),e.setState({isRefreshModal:!1}))})),d.on("success change profile",(function(){d.emit("request user data",localStorage.getItem("auth"))})),d.on("get kicked",(function(){b.a.fire({title:"Get kicked",text:"You get kicked from the admin",timer:2e3,icon:"warning",showConfirmButton:!1,allowOutsideClick:!1}).then((function(t){b.a.close(),e.logout()}))}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(w.a,{centered:!0,size:"lg",show:"true",backdrop:"static"},r.a.createElement(w.a.Header,null,r.a.createElement(w.a.Title,null,"Choose Profile Picture")),r.a.createElement(w.a.Body,null,r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Text,null,r.a.createElement(N,{currentPic:this.changeProfile})))))))))),a=r.a.createElement(w.a,{centered:!0,size:"sm",show:"true",backdrop:"static"},r.a.createElement(w.a.Header,null,r.a.createElement(w.a.Title,null,"Your profile")),r.a.createElement(w.a.Body,null,r.a.createElement(f.a,{className:"justify-content-md-center"},r.a.createElement(E.a,{style:{width:"15rem"}},r.a.createElement(E.a.Img,{variant:"top",src:this.state.user.profile}),r.a.createElement(E.a.Body,null,r.a.createElement(f.a,{className:"justify-content-md-center"},r.a.createElement(E.a.Title,null,this.state.user.name)),r.a.createElement(E.a,null,r.a.createElement(E.a.Header,null,r.a.createElement(f.a,{className:"justify-content-md-center"},r.a.createElement(E.a.Title,null,"Inventory")),r.a.createElement(f.a,{className:"justify-content-md-center"},r.a.createElement(g.a,null,r.a.createElement(R.a,null)," : ",this.state.user.items.missile),r.a.createElement(g.a,null,r.a.createElement(D.a,null)," : ",this.state.user.items.glasses)))))))),r.a.createElement(w.a.Footer,null,r.a.createElement(x.a,{variant:"primary",onClick:function(){return e.showProfileChoice()}},"Change picture"),r.a.createElement(x.a,{variant:"secondary",onClick:function(){return e.showProfileSetting()}},"Close"))),n=r.a.createElement(w.a,{centered:!0,size:"sm",show:"true",backdrop:"static",onHide:function(){return e.showSongSetting()}},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Song Setting")),r.a.createElement(w.a.Body,null,r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Text,null,r.a.createElement(x.a,{variant:"light",onClick:function(){return e.controlSong(0)},block:!0},"Agressive"),r.a.createElement(x.a,{variant:"light",onClick:function(){return e.controlSong(1)},block:!0},"Dance"),r.a.createElement(x.a,{variant:"light",onClick:function(){return e.controlSong(2)},block:!0},"Mystery"),r.a.createElement(x.a,{variant:"dark",onClick:function(){return e.controlSong(3)},block:!0},"Turn Off"))))))))),i=r.a.createElement(w.a,{centered:!0,size:"sm",show:"true",backdrop:"static",onHide:function(){return e.showBackgroundSetting()}},r.a.createElement(w.a.Header,{closeButton:!0},r.a.createElement(w.a.Title,null,"Background Setting")),r.a.createElement(w.a.Body,null,r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Text,null,F.map((function(t){return r.a.createElement(x.a,{block:!0,variant:"info",onClick:function(){return e.changeBackground(t.code)}},t.color)}))))))))));return r.a.createElement(S.a,{bg:"dark",variant:"dark",expand:"lg",style:{borderRadius:"10px 10px 0 0"}},r.a.createElement(S.a.Brand,null,r.a.createElement(T.b,null),"Eiei Battleship",r.a.createElement(T.b,null)),r.a.createElement(S.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(S.a.Collapse,null,r.a.createElement(C.a,null,r.a.createElement(C.a.Link,{onClick:function(){return e.navigate("lobby")}},this.state.redirect.lobby&&r.a.createElement(v.a,{to:"/"}),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(O.a,{style:{marginRight:"5px"}})," Lobby")),r.a.createElement(C.a.Link,{onClick:function(){return e.navigate("shop")}},this.state.redirect.shop&&r.a.createElement(v.a,{to:"/shop"}),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(T.c,{style:{marginRight:"5px"}}),"  Shop")),r.a.createElement(C.a.Link,{onClick:function(){return e.navigate("rank")}},this.state.redirect.rank&&r.a.createElement(v.a,{to:"/rank"}),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(I.a,{style:{marginRight:"5px"}}),"Rank")),r.a.createElement(C.a.Link,{onClick:function(){return e.navigate("admin")}},this.state.redirect.admin&&r.a.createElement(v.a,{to:"/admin"}),r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(T.a,{style:{marginRight:"5px"}}),"Admin"))),r.a.createElement(C.a,{className:"ml-auto"},r.a.createElement(B.a,{show:this.state.showDropDown,onClick:function(){return e.handleDropDown()},title:r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(P.a,{style:{marginRight:"5px"}}),"Settings"),drop:"left"},r.a.createElement(B.a.Item,{onClick:function(){return e.showProfileSetting()}},"Profile"),this.state.showProfileSetting&&a,this.state.showProfileChoice&&t,r.a.createElement(B.a.Item,{onClick:function(){return e.showBackgroundSetting()}},"Background"),this.state.showBackgroundSetting&&i,r.a.createElement(B.a.Item,{onClick:function(){return e.showSongSetting()}},"Song"),this.state.showSongSetting&&n,r.a.createElement(B.a.Item,{onClick:function(){return e.logout()}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(j.a,{style:{marginRight:"5px"}}),"Logout"))))))}}]),a}(r.a.Component),Y=a(167),U=a(27),q=(a(151),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={roomList:[],friendID:"",roomID:"",showInviteFriend:!1,showCreateRoom:!1},n}return Object(s.a)(a,[{key:"modalControl",value:function(e,t){switch(e){case"if":this.setState({showInviteFriend:t});break;case"cr":this.setState({showCreateRoom:t})}}},{key:"handleFriendID",value:function(e){this.setState({friendID:e.target.value})}},{key:"handleRoomID",value:function(e){this.setState({roomID:e.target.value})}},{key:"createRoom",value:function(){this.modalControl("cr",!1),d.emit("create room",this.state.roomID)}},{key:"joinRoom",value:function(e){d.emit("join room",e)}},{key:"invite",value:function(){this.modalControl("if",!1);var e={id:this.state.friendID,myAuth:localStorage.getItem("auth")};d.emit("invite friend",e)}},{key:"refresh",value:function(){d.emit("get room list")}},{key:"handleKey",value:function(e,t){"Enter"===e.key&&("if"===t?this.invite():"cr"===t&&this.createRoom())}},{key:"componentDidMount",value:function(){var e=this;d.emit("get room list"),d.on("success create room",(function(e){b.a.fire({title:"Waiting for the opponent",allowOutsideClick:!1,showConfirmButton:!1,willOpen:function(){b.a.showLoading()}})})),d.on("receive invitation",(function(e){b.a.fire({text:"You are invited to join a room",showDenyButton:!0,confirmButtonText:"Accept",denyButtonText:"Decline"}).then((function(t){t.isConfirmed?d.emit("join invitation",e):d.emit("reject invitation",e)}))})),d.on("join invitation fail",(function(){b.a.fire({icon:"error",text:"Rejected"})})),d.on("friend id not found",(function(){b.a.fire({icon:"error",title:"Oops",text:"Friend's ID not found"})})),d.on("friend already in a room",(function(){b.a.fire({icon:"error",title:"Oops",text:"Your friend is currently in a room"})})),d.on("room id already exist",(function(){b.a.fire({title:"Room name already exists",icon:"error"})})),d.on("update room list",(function(t){e.setState({roomList:t})}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(w.a,{centered:!0,size:"lg",show:"true",backdrop:"static"},r.a.createElement(w.a.Header,null,r.a.createElement(w.a.Title,null,"Invite Friend")),r.a.createElement(w.a.Body,null,r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Text,null,r.a.createElement(Y.a,null,r.a.createElement(Y.a.Group,null,r.a.createElement(Y.a.Label,null,"Friend ID"),r.a.createElement(Y.a.Control,{onChange:function(t){return e.handleFriendID(t)},onKeyPress:function(t){return e.handleKey(t,"if")},placeholder:"Enter your friend's ID"}))))))))))),r.a.createElement(w.a.Footer,null,r.a.createElement(x.a,{variant:"secondary",onClick:function(){return e.modalControl("if",!1)}},"Close"),r.a.createElement(x.a,{variant:"primary",onClick:function(){return e.invite()}},"Send Invitation"))),a=r.a.createElement(w.a,{centered:!0,size:"lg",show:"true",backdrop:"static"},r.a.createElement(w.a.Header,null,r.a.createElement(w.a.Title,null,"Create Room")),r.a.createElement(w.a.Body,null,r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Text,null,r.a.createElement(Y.a,null,"Room name",r.a.createElement(Y.a.Control,{onChange:function(t){return e.handleRoomID(t)},onKeyPress:function(t){return e.handleKey(t,"cr")},placeholder:"Enter room name"})))))))))),r.a.createElement(w.a.Footer,null,r.a.createElement(x.a,{variant:"secondary",onClick:function(){return e.modalControl("cr",!1)}},"Close"),r.a.createElement(x.a,{variant:"primary",onClick:function(){return e.createRoom()}},"Create")));return r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,{style:{width:"100%",height:"100%"}},r.a.createElement(E.a.Header,null,"Room List",r.a.createElement(x.a,{className:"float-right",variant:"warning",size:"sm",onClick:function(){return e.refresh()}},r.a.createElement(U.a,{style:{marginRight:"3px"}})," refresh")),r.a.createElement(E.a.Body,{class:"text-center"},r.a.createElement(E.a.Text,null,0===this.state.roomList.length&&r.a.createElement(E.a.Text,{style:{marginTop:"20px",marginBottom:"20px"}},"No available room"),this.state.roomList.map((function(t){return r.a.createElement(x.a,{block:!0,variant:"light",onClick:function(){return e.joinRoom(t.roomID)}},t.roomID)})))),r.a.createElement(E.a.Footer,{className:"text-center"},r.a.createElement(x.a,{variant:"primary",onClick:function(){return e.modalControl("cr",!0)}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(U.f,{style:{marginRight:"10px"}})," Create Room"))," ",r.a.createElement(x.a,{variant:"info",onClick:function(){return e.modalControl("if",!0)}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(U.g,{style:{marginRight:"10px"}})," Invite Friend")),this.state.showInviteFriend&&t,this.state.showCreateRoom&&a)))))}}]),a}(r.a.Component)),G=a(170),K=a(0),W=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:[],isLoaded:!1},n}return Object(s.a)(a,[{key:"componentDidMount",value:function(){var e=this;d.emit("request rank data",localStorage.getItem("auth")),d.on("response rank data",(function(t){e.setState({data:t,isLoaded:!0})}))}},{key:"render",value:function(){var e;if(!1===this.state.isLoaded)b.a.fire({title:"Loading",allowOutsideClick:!1,showConfirmButton:!1,willOpen:function(){b.a.showLoading()}});else{for(var t=0,a=0,n=0;n<this.state.data.length;n++)!0===this.state.data[n].isMe&&(t=this.state.data[n].rank,a=this.state.data[n].points);for(var i=[],l=3;l<this.state.data.length;l++)i.splice(l-3,0,this.state.data[l]);b.a.close(),e=r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(X,{tier:"1",points:this.state.data[0].points,name:this.state.data[0].name}),r.a.createElement(X,{tier:"2",points:this.state.data[1].points,name:this.state.data[1].name}),r.a.createElement(X,{tier:"3",points:this.state.data[2].points,name:this.state.data[2].name}),r.a.createElement(E.a,{className:"text-center",style:{marginTop:"10px"}},r.a.createElement(E.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(g.a,null,"Your points",r.a.createElement(E.a.Text,{style:{fontSize:"25px"}},a)),r.a.createElement(g.a,null,"Your rank",r.a.createElement(E.a.Text,{style:{fontSize:"25px"}},t)))))),r.a.createElement(g.a,null,r.a.createElement(E.a,{style:{height:"100%"}},r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Text,null,r.a.createElement(G.a,null,i.map((function(e,t){return r.a.createElement(G.a.Item,{key:t},r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement("h6",{class:"text-uppercase text-muted mb-0 card-title"},"Rank: ",e.rank),r.a.createElement("h6",null,e.name)),r.a.createElement(g.a,null,r.a.createElement("h6",{style:{marginTop:"20px"}},e.points," Points"))))}))))))))}return r.a.createElement(p.a,null,e)}}]),a}(r.a.Component),X=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={tier:"",tierText:"",points:"",color:""},n}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{style:{marginBottom:"10px"}},r.a.createElement("div",{class:"card-stats card"},r.a.createElement("div",{class:"card-body"},r.a.createElement("div",{class:"row"},r.a.createElement("div",{class:"col"},r.a.createElement("h5",{class:"text-uppercase text-muted mb-0 card-title"},this.state.tierText),r.a.createElement("span",{class:"h5 font-weight-bold mb-0"},this.props.name)),r.a.createElement("div",{class:"col-auto col"},r.a.createElement(K.b.Provider,{value:{color:this.state.color,size:"35px"}},r.a.createElement("div",null,r.a.createElement(T.d,null))))),r.a.createElement("p",{class:"mt-3 mb-0 text-muted text-sm"},r.a.createElement("span",{class:"text-success mr-2"},this.props.points," Points")))))}},{key:"componentDidMount",value:function(){switch(this.props.tier){case"1":this.setState({tier:"1",tierText:"1st place",points:this.props.points,color:"gold"});break;case"2":this.setState({tier:"2",tierText:"2nd place",points:this.props.points,color:"silver"});break;case"3":this.setState({tier:"3",tierText:"3rd place",points:this.props.points,color:"#B87333"})}}}]),a}(r.a.Component),J=W,V=a(65),Z=a(78),$=a(162),_=a(104),Q=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).changePic=n.changePic.bind(Object(c.a)(n)),n.state={form:{user:"",pass:"",profile:"https://ih1.redbubble.net/image.1573052278.8041/st,small,507x507-pad,600x600,f8f8f8.u1.jpg"},showProfileChoice:!1},n}return Object(s.a)(a,[{key:"handleChange",value:function(e){var t=e.target.name,a=e.target.value;this.setState({form:Object(Z.a)(Object(Z.a)({},this.state.form),{},Object(V.a)({},t,a))})}},{key:"handleKey",value:function(e){"Enter"===e.key&&this.login()}},{key:"login",value:function(){""===this.state.form.user||""===this.state.form.pass?(b.a.fire({title:"Empty field",icon:"error"}),localStorage.setItem("isLogin",!1)):(b.a.fire({title:"Loading",allowOutsideClick:!1,willOpen:function(){b.a.showLoading()}}),d.emit("login",this.state.form))}},{key:"clickProfileChoice",value:function(){this.setState({showProfileChoice:!this.state.showProfileChoice})}},{key:"changePic",value:function(e){this.setState({form:{user:this.state.form.user,pass:this.state.form.pass,profile:e}}),this.clickProfileChoice()}},{key:"componentDidMount",value:function(){var e=this;d.on("success login",(function(t){b.a.close(),localStorage.removeItem("auth"),localStorage.setItem("auth",t),localStorage.removeItem("isLogin"),localStorage.setItem("isLogin",!0),e.props.logged(e.state.form.user)})),d.on("fail login",(function(){b.a.close(),b.a.fire({title:"Failed",text:"Wrong username or password",icon:"error"}),localStorage.setItem("isLogin",!1)}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(w.a,{centered:!0,size:"lg",show:"true",backdrop:"static"},r.a.createElement(w.a.Header,null,r.a.createElement(w.a.Title,null,"Choose Profile Picture")),r.a.createElement(w.a.Body,null,r.a.createElement(p.a,null,r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Text,null,r.a.createElement(N,{currentPic:this.changePic}))))))))));return r.a.createElement(p.a,null,r.a.createElement(f.a,{className:"justify-content-md-center"},r.a.createElement(g.a,null),r.a.createElement(g.a,{md:6},r.a.createElement(E.a,{style:{backgroundColor:"#e9ecef",borderRadius:"10px"}},r.a.createElement("div",{class:"text-center"},r.a.createElement(E.a.Body,null,r.a.createElement(M.a,{style:{width:"100%",marginBottom:"-30px"},src:"https://www.tgpl.in.th/wp-content/uploads/2016/01/battleship.png"}),r.a.createElement("h1",null,"Eiei Battleship")),r.a.createElement(E.a.Footer,null,r.a.createElement(f.a,null,r.a.createElement(g.a,{md:4},r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",style:{marginBottom:"20px"},onClick:function(){return e.clickProfileChoice()}},r.a.createElement(M.a,{style:{width:"80px",height:"80px",marginTop:"5px",marginBottom:"5px"},src:this.state.form.profile,thumbnail:!0})),this.state.showProfileChoice&&t),r.a.createElement(g.a,null,r.a.createElement($.a,{className:"mb-3",style:{marginTop:"10px"}},r.a.createElement($.a.Prepend,null,r.a.createElement($.a.Text,null,r.a.createElement(U.d,null))),r.a.createElement(_.a,{name:"user",placeholder:"Username",size:"md",onChange:function(t){return e.handleChange(t)}})),r.a.createElement($.a,{className:"mb-3"},r.a.createElement($.a.Prepend,null,r.a.createElement($.a.Text,null,r.a.createElement(U.b,null))),r.a.createElement(_.a,{name:"pass",type:"password",placeholder:"Password",onChange:function(t){return e.handleChange(t)},onKeyPress:function(t){return e.handleKey(t)}})))),r.a.createElement(x.a,{block:!0,variant:"success",onClick:function(){return e.login()}},"Login"))))),r.a.createElement(g.a,null)))}}]),a}(r.a.Component),ee=a(163),te=a(105),ae=(a(152),function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={hovered:[],secretSong:!1,data:new Array(64).fill(0),enemyData:new Array(64).fill(0),chat:[],chatMsg:"",name:"",enemyName:"",seconds:10,isUsingMissile:!1,score:0,enemyScore:0,isMyTurn:!1,isPause:!1,missileAvai:0,radarAvai:0,audio:[new Audio("/explode.mp3"),new Audio("/missile.mp3"),new Audio("/radar.mp3"),new Audio("/win.mp3"),new Audio("/lose.mp3")],isPlanningStage:!0,currentShipSize:4,shipAmount:1,horizontal:!0,vertical:!1,lastPlaced:[],controlButton:!1},n}return Object(s.a)(a,[{key:"hoverHandle",value:function(e){var t,a=this.state.currentShipSize;if(this.state.isPlanningStage){if(this.state.horizontal){if(e%8+a<9){var n=new Array(a).fill(e),r=0;n=n.map((function(e){return e+ ++r-1})),this.setState({hovered:n})}}else if(this.state.vertical&&Math.floor(e/8)+a<9){var i=new Array(a).fill(e),l=0;i=i.map((function(e){return e+8*(++l-1)})),this.setState({hovered:i})}}else t=this.state.isUsingMissile?e<=6&&e>=0?[e-1,e,e+1,e+8]:e>=57&&e<=63?[e-8,e-1,e,e+1]:e%8===0?[e-8,e,e+1,e+8]:(e+1)%8===0?[e-8,e-1,e,e+8]:[e-8,e-1,e,e+1,e+8]:[e],this.setState({hovered:t})}},{key:"hoveredHandle",value:function(e){this.setState({hovered:[]})}},{key:"changeAlign",value:function(e){"hori"===e?this.setState({horizontal:!0,vertical:!1}):"vert"===e&&this.setState({horizontal:!1,vertical:!0})}},{key:"fill",value:function(e,t,a){if("hori"===a){for(var n=e;n<e+t;n++)if(1===this.state.data[n])return!1;for(var r=this.state.data.slice(),i=e;i<e+t;i++)r[i]=1;return this.setState({data:r}),this.state.lastPlaced.push({pos:e,size:t,axis:"hori"}),this.setState({controlButton:0!==this.state.lastPlaced.length}),!0}if("vert"===a){for(var l=0;l<t;l++)if(1===this.state.data[e+8*l])return!1;for(var o=this.state.data.slice(),s=0;s<t;s++)o[e+8*s]=1;return this.setState({data:o}),this.state.lastPlaced.push({pos:e,size:t,axis:"vert"}),this.setState({controlButton:0!==this.state.lastPlaced.length}),!0}}},{key:"plan",value:function(e){if(0!==this.state.shipAmount){var t=this.state.currentShipSize;this.state.horizontal?e%8+t<9&&(this.fill(e,t,"hori")?(console.log("Done"),this.setState({shipAmount:this.state.shipAmount-1})):console.log("Unable")):this.state.vertical&&(this.fill(e,t,"vert")?(console.log("Done"),this.setState({shipAmount:this.state.shipAmount-1})):console.log("Unable"))}else b.a.fire({html:"You have no available ship left for size <b>"+this.state.currentShipSize+"</b>",icon:"warning"})}},{key:"back",value:function(){var e=this.state.lastPlaced.pop(),t=e.pos,a=e.size;if("hori"===e.axis){for(var n=this.state.data.slice(),r=t;r<t+a;r++)n[r]=0;this.setState({data:n,shipAmount:this.state.shipAmount+1})}else if("vert"===e.axis){for(var i=this.state.data.slice(),l=0;l<a;l++)i[t+8*l]=0;this.setState({data:i,shipAmount:this.state.shipAmount+1})}this.setState({controlButton:0!==this.state.lastPlaced.length})}},{key:"next",value:function(){var e=this.state.currentShipSize;if(0===this.state.shipAmount&&1!==this.state.currentShipSize){var t=0;4===e?t=2:3===e?t=3:2===e&&(t=4),this.setState({currentShipSize:e-1,shipAmount:t,controlButton:!1,lastPlaced:[]})}else 1===this.state.currentShipSize&&0===this.state.shipAmount?(d.emit("send ship data",{data:this.state.data,auth:localStorage.getItem("auth"),room:this.props.room}),b.a.fire({title:"Waiting for the opponent",allowOutsideClick:!1,showConfirmButton:!1,willOpen:function(){b.a.showLoading()}})):b.a.fire({html:"You have <b>"+this.state.shipAmount+"</b> ship left to be placed",icon:"warning"})}},{key:"game",value:function(e){(0===this.state.enemyData[e]||8===this.state.enemyData[e]||9===this.state.enemyData[e])&&this.state.isMyTurn&&(d.emit("shot",{target:this.state.isUsingMissile?this.state.hovered:[e],missile:this.state.isUsingMissile,room:this.props.room,auth:localStorage.getItem("auth")}),this.state.isUsingMissile?(this.setState({missileAvai:0,isUsingMissile:!1}),this.state.audio[1].currentTime=0,this.state.audio[1].play()):(this.state.audio[0].currentTime=0,this.state.audio[0].play()))}},{key:"pause",value:function(){b.a.fire({title:"Waiting for opponent decision",allowOutsideClick:!1,showConfirmButton:!1,willOpen:function(){b.a.showLoading()}}),d.emit("pause request",{name:this.state.name,room:this.props.room})}},{key:"resume",value:function(){var e=this;this.state.isMyTurn&&(this.interval=setInterval((function(){return e.tick()}),1e3)),this.setState({isPause:!1}),d.emit("resume game",this.props.room)}},{key:"handleChat",value:function(e){this.setState({chatMsg:e.target.value})}},{key:"send",value:function(){d.emit("send chat",{name:this.state.name,msg:this.state.chatMsg,room:this.props.room}),document.getElementById("chat-input").value="",this.state.chat.push(this.state.name+": "+this.state.chatMsg);var e=document.getElementById("chat-box");e.scrollTop=e.offsetHeight,this.forceUpdate()}},{key:"handleKey",value:function(e){"Enter"===e.key&&this.send()}},{key:"renderPlanBoard",value:function(){for(var e=this,t=[],a=1;a<=8;a++){for(var n=[],i=function(t){var i=8*(a-1)+(t-1);n.push(r.a.createElement("button",{className:"psquare",style:e.state.hovered.includes(i)?{background:"#ecb865",opacity:"0.5"}:1===e.state.data[i]?{background:"#fbc9be"}:{},onClick:function(){return e.plan(i)},onMouseEnter:function(){return e.hoverHandle(i)},onMouseLeave:function(){return e.hoveredHandle(i)}}))},l=1;l<=8;l++)i(l);t.push(n)}return t}},{key:"renderEnemyBoard",value:function(){for(var e=this,t=[],a=1;a<=8;a++){for(var n=[],i=function(t){var i=8*(a-1)+(t-1);n.push(r.a.createElement("button",{className:"square",style:e.state.hovered.includes(i)&&e.state.isMyTurn?{background:"#ecb865"}:2===e.state.enemyData[i]?{background:"#6A5ACD"}:3===e.state.enemyData[i]?{background:"#7B68EE"}:{},onClick:function(){return e.game(i)},disabled:e.state.isPause,onMouseEnter:function(){return e.hoverHandle(i)},onMouseLeave:function(){return e.hoveredHandle(i)}},2===e.state.enemyData[i]?r.a.createElement(r.a.Fragment,null,"X"):8===e.state.enemyData[i]?r.a.createElement(D.b,null):9===e.state.enemyData[i]?r.a.createElement(te.a,null):r.a.createElement(r.a.Fragment,null)))},l=1;l<=8;l++)i(l);t.push(n)}return t}},{key:"renderMyBoard",value:function(){for(var e=[],t=1;t<=8;t++){for(var a=[],n=1;n<=8;n++){var i=8*(t-1)+(n-1);a.push(r.a.createElement("button",{className:"square",style:1===this.state.data[i]?{background:"#fbc9be"}:2===this.state.data[i]?{background:"#6A5ACD"}:3===this.state.data[i]?{background:"#7B68EE"}:{},disabled:"true"},2===this.state.data[i]?r.a.createElement(r.a.Fragment,null,"X"):r.a.createElement(r.a.Fragment,null)))}e.push(a)}return e}},{key:"equipMissile",value:function(){this.setState({isUsingMissile:!0})}},{key:"cancelMissile",value:function(){this.setState({isUsingMissile:!1})}},{key:"useGlasses",value:function(){d.emit("use glasses",{room:this.props.room,auth:localStorage.getItem("auth")}),this.state.audio[2].currentTime=0,this.state.audio[2].play(),this.setState({radarAvai:this.state.radarAvai-1})}},{key:"tick",value:function(){this.setState((function(e){return{seconds:e.seconds-1}})),this.state.seconds<=0&&(clearInterval(this.interval),d.emit("timeout",this.props.room),this.setState({isMyTurn:!1}))}},{key:"componentDidMount",value:function(){var e=this;b.a.fire({title:"Welcome to the game",html:"<a>In this stage, place your ship on the grid then press <b>'Next'</b> after you have placed all the ship of that <b>particular size</b></a>"}).then((function(e){b.a.fire({title:"Warning",html:"<p>Once you press <b>'Next'</b>, you can't go back to rearrange your ship in previous size</p>",icon:"warning"})})),d.emit("request user data",localStorage.getItem("auth")),d.on("response user data",(function(t){t.items.missile>=1&&e.setState({missileAvai:1}),1===t.items.glasses?e.setState({radarAvai:1}):t.items.glasses>=2&&e.setState({radarAvai:2})})),d.on("name data",(function(t){e.setState({name:t.you,enemyName:t.enemy})})),d.on("update score",(function(t){e.setState({score:t[e.state.name],enemyScore:t[e.state.enemyName]})})),d.on("run game",(function(t){var a;e.setState({isMyTurn:"go"===t,isPlanningStage:!1}),b.a.fire({title:"Game will start in",html:'<a style="margin-top: -20px; margin-bottom: -20px; font-size: 50px"></a>',timer:3e3,timerProgressBar:!0,allowOutsideClick:!1,showConfirmButton:!1,willOpen:function(){b.a.showLoading(),a=setInterval((function(){var e=b.a.getContent();if(e){var t=e.querySelector("a");t&&(t.textContent=Math.ceil(b.a.getTimerLeft()/1e3))}}),100)},willClose:function(){clearInterval(a)}}).then((function(a){a.dismiss===b.a.DismissReason.timer&&"go"===t&&(e.setState({seconds:10}),e.interval=setInterval((function(){return e.tick()}),1e3))}))})),d.on("opponent timeout",(function(){e.setState({isMyTurn:!0,seconds:10}),e.interval=setInterval((function(){return e.tick()}),1e3)})),d.on("opponent want to pause",(function(t){b.a.fire({text:t+" wanted to pause the game",showDenyButton:!0,allowOutsideClick:!1,confirmButtonText:"Accept",denyButtonText:"Decline"}).then((function(t){t.isConfirmed?(d.emit("pause accept",e.props.room),e.state.isMyTurn&&clearInterval(e.interval),e.setState({isPause:!0}),b.a.fire({title:"Paused",allowOutsideClick:!1,showConfirmButton:!1})):d.emit("pause reject",e.props.room)}))})),d.on("opponent accept pause",(function(){b.a.close(),e.setState({isPause:!0}),e.state.isMyTurn&&clearInterval(e.interval)})),d.on("opponent reject pause",(function(){b.a.close(),b.a.fire({title:"Rejected",icon:"warning"})})),d.on("opponent resume",(function(){b.a.close(),e.state.isMyTurn&&(e.interval=setInterval((function(){return e.tick()}),1e3)),e.setState({isPause:!1})})),d.on("receive chat",(function(t){e.setState({chatMsg:""}),e.state.chat.push(t);var a=document.getElementById("chat-box");a.scrollTop=a.offsetHeight,e.forceUpdate()})),d.on("secret key",(function(){e.setState({secretSong:!e.state.secretSong})})),d.on("update enemy grid",(function(t){clearInterval(e.interval),e.setState({enemyData:t.data,score:t.score,isMyTurn:!1,seconds:0})})),d.on("update my grid",(function(t){for(var a=e.state.data.slice(),n=0;n<t.length;n++)2!==t[n]&&3!==t[n]||(a[n]=t[n]);clearInterval(e.interval),e.setState({data:a,isMyTurn:!0,seconds:10}),e.interval=setInterval((function(){return e.tick()}),1e3)})),d.on("missile not enough",(function(){b.a.fire({title:"Oops",text:"You don't have enough item or already used the item in this round",icon:"error"})})),d.on("used missile",(function(){d.emit("update missile",localStorage.getItem("auth"))})),d.on("glasses result found",(function(t){e.setState({enemyData:t}),b.a.fire({title:"You found a ship, Destroy them!"})})),d.on("glasses result not found",(function(t){e.setState({enemyData:t}),b.a.fire({title:"You found nothing, it is marked"})})),d.on("end game",(function(t){clearInterval(e.interval),t.winner.auth===localStorage.getItem("auth")?(d.emit("update points",{auth:t.winner.auth,score:t.winner.score}),d.emit("update pocket",t.winner.auth),e.state.audio[3].currentTime=0,e.state.audio[3].play(),b.a.fire({title:"Congratulations!",html:"You <b>won</b> the game<br>Scored: <b>"+t.winner.score+"</b> Points<br>Reward: <b>200</b> Coins",imageUrl:"/win.png",imageWidth:256,imageHeight:256,allowOutsideClick:!1,showConfirmButton:!1,timerProgressBar:!0,timer:1e4}).then((function(e){e.dismiss===b.a.DismissReason.timer&&window.location.reload()}))):(d.emit("update points",{auth:localStorage.getItem("auth"),score:t.loser.score}),e.state.audio[4].currentTime=0,e.state.audio[4].play(),b.a.fire({title:"Uhh!",html:"You <b>lose</b> the game<br>Scored: <b>"+t.loser.score+"</b> Points<br>Reward: <b>0</b> Coins",imageUrl:"/lose.png",imageWidth:256,imageHeight:256,allowOutsideClick:!1,showConfirmButton:!1,timerProgressBar:!0,timer:1e4}).then((function(e){e.dismiss===b.a.DismissReason.timer&&window.location.reload()})))}))}},{key:"render",value:function(){var e=this,t=r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(S.a,{bg:"dark",variant:"dark",expand:"lg",style:{borderRadius:"10px 10px 0 0"}},r.a.createElement(S.a.Collapse,null,r.a.createElement(C.a,{className:"container-fluid"},r.a.createElement(S.a.Text,{className:"ml-auto mr-auto",style:{color:"white",fontSize:"18px"}},"Place Your Ships \u32e1")))),r.a.createElement(E.a,{style:{backgroundColor:"#e9ecef",borderRadius:"0 0 10px 10px"}},r.a.createElement(E.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(g.a,{xs:10,style:{marginTop:"auto",marginBottom:"auto"}},this.renderPlanBoard().map((function(e){return r.a.createElement("div",{className:"board-row"},e)}))),r.a.createElement(g.a,{xs:2},r.a.createElement(f.a,{style:{width:"100%",marginBottom:"20px"}},r.a.createElement(E.a,{style:{width:"100%"}},r.a.createElement(E.a.Body,null,r.a.createElement(x.a,{variant:"info",block:!0,onClick:function(){return e.changeAlign("hori")}},"Horizontal"),r.a.createElement(x.a,{variant:"info",block:!0,onClick:function(){return e.changeAlign("vert")}},"Vertical")))),r.a.createElement(f.a,{style:{width:"100%",marginBottom:"20px"},className:"text-center"},r.a.createElement(E.a,{style:{width:"100%"}},r.a.createElement(E.a.Header,null,r.a.createElement(E.a.Text,null,"Ship amount")),r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Text,{style:{marginBottom:"-20px",marginTop:"-20px",fontSize:"50px"}},this.state.shipAmount),r.a.createElement(E.a.Text,null,"to be placed")))),r.a.createElement(f.a,{style:{width:"100%"}},r.a.createElement(E.a,{style:{width:"100%"}},r.a.createElement(E.a.Body,null,r.a.createElement(x.a,{variant:"primary",block:!0,onClick:function(){return e.next()}},"Next"),r.a.createElement(x.a,{variant:"danger",block:!0,onClick:function(){return e.back()},disabled:!this.state.controlButton},"Back")))))))))),a=r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(S.a,{bg:"dark",variant:"dark",expand:"lg",style:{borderRadius:"10px 10px 0 0"}},r.a.createElement(S.a.Collapse,null,r.a.createElement(C.a,{className:"container-fluid"},this.state.isPause?r.a.createElement(C.a.Link,{onClick:function(){return e.resume()}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(U.e,{style:{marginRight:"5px"}})," Resume")):r.a.createElement(C.a.Link,{onClick:function(){return e.pause()}},r.a.createElement("div",{style:{display:"flex",alignItems:"center"}},r.a.createElement(U.c,{style:{marginRight:"5px"}})," Pause")),r.a.createElement(S.a.Text,{className:"ml-auto"},r.a.createElement("div",{style:{marginTop:"3px"}},r.a.createElement("h5",null,r.a.createElement(ee.a,{style:{width:"500px"},variant:this.state.isPause?"light":this.state.isMyTurn?"success":"danger"},this.state.isPause?r.a.createElement(r.a.Fragment,null,"Paused"):this.state.isMyTurn?r.a.createElement(r.a.Fragment,null,"Your Turn"):r.a.createElement(r.a.Fragment,null,"Enemy Turn"))))),r.a.createElement(C.a.Link,{className:"ml-auto"},this.state.name," : ",this.state.score," Points",r.a.createElement("br",null),this.state.enemyName," : ",this.state.enemyScore," Points")))),r.a.createElement(E.a,{style:{backgroundColor:"#e9ecef",borderRadius:"0 0 10px 10px"}},r.a.createElement(E.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(g.a,{xs:4,style:{marginTop:"auto",marginBottom:"auto"}},this.renderMyBoard().map((function(e){return r.a.createElement("div",{className:"board-row"},e)}))),r.a.createElement(g.a,{xs:4,style:{marginTop:"auto",marginBottom:"auto"}},this.renderEnemyBoard().map((function(e){return r.a.createElement("div",{className:"board-row"},e)}))),r.a.createElement(g.a,{xs:4},r.a.createElement(E.a,{border:"primary",style:{width:"100%",height:"350px"}},r.a.createElement(E.a.Header,null,"Chat"),r.a.createElement(E.a.Body,{id:"chat-box",style:{height:"150px",overflowY:"scroll"}},this.state.chat.map((function(e){return r.a.createElement("p",null,e)}))),r.a.createElement(E.a.Footer,null,r.a.createElement($.a,{size:"sm"},r.a.createElement(_.a,{id:"chat-input",onChange:function(t){return e.handleChat(t)},onKeyPress:function(t){return e.handleKey(t)},"aria-describedby":"basic-addon1",style:{marginTop:"5px"}}),r.a.createElement($.a.Append,null,r.a.createElement(x.a,{variant:"outline-secondary",size:"sm",onClick:function(){return e.send()}},"Send"))))))),r.a.createElement(f.a,null,r.a.createElement(g.a,{xs:8},r.a.createElement(E.a,{style:{width:"100%",marginTop:"10px",height:"100%"}},r.a.createElement(E.a.Body,null,r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a.Title,null,"Items"),r.a.createElement(E.a.Subtitle,{className:"mb-2 text-muted"},"Missile quota: once per game"),r.a.createElement(E.a.Subtitle,{className:"mb-2 text-muted"},"Glasses quota: twice per game"),r.a.createElement(E.a.Subtitle,{className:"mb-2 text-muted"},r.a.createElement("br",null),"Use them wisely")),r.a.createElement(g.a,{style:{marginTop:"auto",marginBottom:"auto"}},r.a.createElement(x.a,{variant:"info",block:!0,disabled:this.state.isUsingMissile||0===this.state.missileAvai,onClick:function(){return e.equipMissile()}},r.a.createElement(R.a,{style:{marginRight:"5px"}}),"Five-shot Missile"),r.a.createElement(x.a,{variant:"info",block:!0,disabled:this.state.isPause||!this.state.isMyTurn||this.state.isUsingMissile||0===this.state.radarAvai,onClick:function(){return e.useGlasses()}},r.a.createElement(D.a,{style:{marginRight:"5px"}}),"Glasses"),r.a.createElement(x.a,{variant:"danger",block:!0,disabled:!this.state.isUsingMissile,onClick:function(){return e.cancelMissile()}},"Cancel")))))),r.a.createElement(g.a,{xs:4,className:"text-center"},r.a.createElement(E.a,{style:{width:"100%",marginTop:"10px",height:"100%"}},r.a.createElement(E.a.Body,null,r.a.createElement(E.a.Title,null,"Time remaining"),r.a.createElement(E.a.Text,{style:{marginBottom:"-20px",fontSize:"70px"}},this.state.seconds)))))))));return r.a.createElement(p.a,{style:{paddingTop:"2%"}},this.state.secretSong&&r.a.createElement("iframe",{width:"0",height:"0",style:{display:"none"},src:"https://www.youtube.com/embed/jveH6adL5DY?controls=0&autoplay=1&loop=true",frameborder:"0",allowfullscreen:!0}),this.state.isPlanningStage?t:a)}}]),a}(r.a.Component)),ne=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={pocket:0,missileOwned:0,glassesOwned:0,isLoaded:!1},n}return Object(s.a)(a,[{key:"fiveShotBuy",value:function(e){this.state.pocket<100*e?b.a.fire({icon:"error",title:"Oops...",text:"You don't have enough money"}):d.emit("buy missile",{auth:localStorage.getItem("auth"),num:e})}},{key:"glassesBuy",value:function(e){this.state.pocket<50*e?b.a.fire({icon:"error",title:"Oops...",text:"You don't have enough money"}):d.emit("buy glasses",{auth:localStorage.getItem("auth"),num:e})}},{key:"componentDidMount",value:function(){var e=this;d.emit("get pocket"),d.on("response pocket",(function(t){e.setState({pocket:t.pocket,missileOwned:t.missile,glassesOwned:t.glasses,isLoaded:!0})})),d.on("response buy missile",(function(t){e.setState({pocket:t.pocket,missileOwned:t.missile})})),d.on("response buy glasses",(function(t){e.setState({pocket:t.pocket,glassesOwned:t.glasses})}))}},{key:"render",value:function(){var e,t=this;return this.state.isLoaded?(b.a.close(),e=r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,{style:{marginBottom:"10px"}},r.a.createElement(E.a.Body,null,"Pocket: ",this.state.pocket)),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,null,r.a.createElement(E.a.Body,{class:"text-center"},r.a.createElement(E.a.Img,{variant:"top",style:{width:"40%"},src:"https://media.istockphoto.com/vectors/startup-icon-vector-id1074164928?k=6&m=1074164928&s=612x612&w=0&h=dD2gAKmO5MNG-eOh2WE34ZMoLSpF0j_YSYvTFKl-FfA="}),r.a.createElement(E.a.Title,{style:{marginTop:"10px"}},"Five-shot Missile"),r.a.createElement(E.a.Text,{style:{marginBottom:"20px"}},"Strike five squares in a cross pattern on the grid in one turn"),r.a.createElement(E.a.Text,null,"Currently owned: ",this.state.missileOwned),r.a.createElement(E.a.Text,{style:{marginTop:"-15px",marginBottom:"10px"}},"Price: 100")),r.a.createElement(E.a.Footer,{className:"text-center"},r.a.createElement(E.a.Text,{style:{marginBottom:"0px"}},"Purchase:"),r.a.createElement(x.a,{onClick:function(){return t.fiveShotBuy(1)},variant:"outline-primary",style:{width:"100px",marginRight:"10px"}},"X1"),r.a.createElement(x.a,{onClick:function(){return t.fiveShotBuy(10)},variant:"outline-primary",style:{width:"100px"}},"X10")))),r.a.createElement(g.a,null,r.a.createElement(E.a,{style:{height:"100%"}},r.a.createElement(E.a.Body,{class:"text-center"},r.a.createElement(E.a.Img,{variant:"top",style:{width:"40%"},src:"https://cdn4.iconfinder.com/data/icons/ionicons/512/icon-ios7-glasses-outline-512.png"}),r.a.createElement(E.a.Title,{style:{marginTop:"10px"}},"Glasses"),r.a.createElement(E.a.Text,{style:{marginBottom:"20px"}},"Randomly unviel one square"),r.a.createElement(E.a.Text,{style:{marginTop:"45px"}},"Currently owned: ",this.state.glassesOwned),r.a.createElement(E.a.Text,{style:{marginTop:"-15px",marginBottom:"10px"}},"Price: 50")),r.a.createElement(E.a.Footer,{className:"text-center"},r.a.createElement(E.a.Text,{style:{marginBottom:"0px"}},"Purchase:"),r.a.createElement(x.a,{onClick:function(){return t.glassesBuy(1)},variant:"outline-primary",style:{width:"100px",marginRight:"10px"}},"X1"),r.a.createElement(x.a,{onClick:function(){return t.glassesBuy(10)},variant:"outline-primary",style:{width:"100px"}},"X10")))))))):b.a.fire({title:"Loading",allowOutsideClick:!1,showConfirmButton:!1,willOpen:function(){b.a.showLoading()}}),r.a.createElement(p.a,null,e)}}]),a}(r.a.Component),re=a(164),ie=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).state={data:[],admin:0,showRoomID:!1},n}return Object(s.a)(a,[{key:"controlRoomID",value:function(){this.setState({showRoomID:!this.state.showRoomID})}},{key:"admin",value:function(e,t){"add money"===t?d.emit("add money",e):"kick"===t?d.emit("kick",e):"reset points"===t?d.emit("reset points",e):"reset room"===t&&d.emit("reset room",e)}},{key:"componentDidMount",value:function(){var e=this;d.emit("admin authorization",localStorage.getItem("auth")),d.on("update admin console",(function(){d.emit("admin authorization",localStorage.getItem("auth"))})),d.on("admin authorized",(function(t){e.setState({admin:1,data:t})})),d.on("restricted access",(function(){e.setState({admin:2})}))}},{key:"render",value:function(){var e,t=this;return 0===this.state.admin?b.a.fire({title:"Loading",allowOutsideClick:!1,showConfirmButton:!1,willOpen:function(){b.a.showLoading()}}):1===this.state.admin?(b.a.close(),e=r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(E.a,{className:"text-center"},r.a.createElement(E.a.Body,null,r.a.createElement(x.a,{variant:"light",block:!0,onClick:function(){return t.controlRoomID()}},"Show/Hide Room ID"),r.a.createElement(re.a,{responsive:!0,bordered:!0,hover:!0},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Profile"),r.a.createElement("th",null,"Name"),r.a.createElement("th",null,"Points"),r.a.createElement("th",null,"Money"),r.a.createElement("th",null,"Room"),r.a.createElement("th",null,"Control"))),r.a.createElement("tbody",null,this.state.data.map((function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,r.a.createElement(M.a,{style:{width:"80px",height:"80px"},src:e.profile})),r.a.createElement("td",null,e.user),r.a.createElement("td",null,e.points),r.a.createElement("td",null,e.pocket),r.a.createElement("td",null,""===e.room?r.a.createElement(r.a.Fragment,null,"-"):!0===t.state.showRoomID?e.room:r.a.createElement(r.a.Fragment,null,"Yes")),r.a.createElement("td",null,r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(x.a,{variant:"primary",onClick:function(){return t.admin(e.auth,"add money")}},"Add Money (1000)"),"  ",r.a.createElement(x.a,{variant:"danger",onClick:function(){return t.admin(e.auth,"kick")}},"Kick"))),r.a.createElement(f.a,null,r.a.createElement(g.a,null,r.a.createElement(x.a,{variant:"warning",onClick:function(){return t.admin(e.auth,"reset points")}},"Reset Points"),"  ",r.a.createElement(x.a,{variant:"warning",onClick:function(){return t.admin(e.room,"reset room")}},"Reset Room")))))}))))))))):(b.a.close(),e=r.a.createElement(p.a,{style:{marginTop:"50px",marginBottom:"50px"}},r.a.createElement(f.a,{className:"text-center"},r.a.createElement(g.a,null,r.a.createElement(M.a,{style:{width:"20%",marginBottom:"10px"},src:"https://icons.iconarchive.com/icons/paomedia/small-n-flat/256/sign-error-icon.png"}),r.a.createElement("h2",null,"Restricted access"))))),r.a.createElement(p.a,null,e)}}]),a}(r.a.Component),le=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(e){var n;return Object(o.a)(this,a),(n=t.call(this,e)).logged=n.logged.bind(Object(c.a)(n)),n.state={isInGame:!1,joinedRoom:""},n}return Object(s.a)(a,[{key:"isAuthenticated",value:function(){return"true"===localStorage.getItem("isLogin")}},{key:"logged",value:function(e){b.a.fire({title:"Hello, "+e,allowOutsideClick:!1,showConfirmButton:!1,timer:1500}).then((function(e){e.dismiss===b.a.DismissReason.timer&&window.location.reload()}))}},{key:"startGame",value:function(){this.setState({isInGame:!0})}},{key:"componentDidMount",value:function(){var e=this;d.on("start the game",(function(t){b.a.close(),e.setState({isInGame:!0,joinedRoom:t})})),d.on("opponent disconnect",(function(){d.emit("leave room"),e.setState({isInGame:!1,joinedRoom:""})}))}},{key:"render",value:function(){return r.a.createElement(y.a,null,r.a.createElement(p.a,{style:{paddingTop:"2%"}},r.a.createElement(f.a,null,this.isAuthenticated()?this.state.isInGame?r.a.createElement(ae,{room:this.state.joinedRoom}):r.a.createElement(oe,null):r.a.createElement(Q,{logged:this.logged}))))}}]),a}(r.a.Component),oe=function(e){Object(u.a)(a,e);var t=Object(m.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(s.a)(a,[{key:"render",value:function(){return r.a.createElement(g.a,null,r.a.createElement(v.d,null,r.a.createElement(v.b,{path:"/admin"},r.a.createElement(H,null),r.a.createElement(E.a,{style:{backgroundColor:"#e9ecef",borderRadius:"0 0 10px 10px"}},r.a.createElement(E.a.Body,null,r.a.createElement(ie,null)))),r.a.createElement(v.b,{path:"/rank"},r.a.createElement(H,null),r.a.createElement(E.a,{style:{backgroundColor:"#e9ecef",borderRadius:"0 0 10px 10px"}},r.a.createElement(E.a.Body,null,r.a.createElement(J,null)))),r.a.createElement(v.b,{path:"/shop"},r.a.createElement(H,null),r.a.createElement(E.a,{style:{backgroundColor:"#e9ecef",borderRadius:"0 0 10px 10px"}},r.a.createElement(E.a.Body,null,r.a.createElement(ne,null)))),r.a.createElement(v.b,{path:"/"},r.a.createElement(H,null),r.a.createElement(E.a,{style:{backgroundColor:"#e9ecef",borderRadius:"0 0 10px 10px"}},r.a.createElement(E.a.Body,null,r.a.createElement(q,null))))))}}]),a}(r.a.Component),se=le;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(se,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[109,1,2]]]);
//# sourceMappingURL=main.482c3928.chunk.js.map